"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},createHer=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,n,r,o,a,i,c,u,l,d,s,h,f,g,p,x,y,v,m,C,_,b,w,S,A,O;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return O=function(t){return"X"==t||(k,t.length>0&&""!=t?t:void 0)},A=function(t){return"verwijderd"!=t.vidChanges.toLowerCase()},S=function(t){a.classList.toggle("disabled",!A(t)),a.setAttribute("href",t.link),i.textContent=t.vidChanges},w=function(t){o[0].textContent=O(t.involvedPeople)},b=function(t){r[0].textContent=O(t.inciCat),r[1].textContent=O(t.inci)},_=function(t){e[0].textContent=O(t.routeShowed)?herText.route:"",e[1].textContent=O(t.recognisable)?herText.recognisable:"",e[2].textContent=O(t.otherRecognisable)?herText.other:"",n[0].style.background=O(t.routeShowed)?herColor.routeShowed:"none",n[1].style.background=O(t.recognisable)?herColor.recognisable:"none",n[2].style.background=O(t.otherRecognisable)?herColor.otherRecognisable:"none"},C=function(t){d3.selectAll(".her-node").style("opacity",function(e){return e==t?1:.2})},m=function(t){_(t),b(t),w(t),S(t),C(t)},v=function(t){var e=herKeys.filter(function(e){return""!=t[e]&&t[e].length>0});return e.length?e[0]:"none"},y=function(t){var e=v(t);return herColor[e]},function(t){return t[0].toUpperCase()+t.substr(1)},x=function(t,e){var n=e-t;return t+Math.floor(Math.random()*n)},p=function(){f.groupBy("shape"),g()},function(){var t=herLegend,e=s.append("g").selectAll("g").data(t).enter().append("g").attr("y",20).attr("transform",function(t,e){return"translate("+(1%e?200:31.125)+", "+(2%e<2?60:20)+")"});e.append("circle").attr("r",12.5).attr("fill","red"),e.append("text").attr("x",24).attr("y",6).attr("dy","0.0em").text(function(t){return t})},g=function(){s.attr("height",f.height()),h.transition().duration(750).delay(function(t){return u(150*t.groupIndex+1*t.index)}).attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})},e=document.querySelectorAll(".data__cat--her li"),n=document.querySelectorAll(".data__cat--dot"),r=document.querySelectorAll(".data__cat--inci li"),o=document.querySelectorAll(".data__cat--invol li"),a=document.querySelector(".data__info--details div a"),i=document.querySelector(".data__info--details div p"),c=document.getElementById("her-chart").getBoundingClientRect().width,u=d3.scaleLinear().domain([0,400]).range([0,300]),t.next=25,vlogData.map(function(t,e){return _extends({},t,{index:e,x:x(c/2-100,c/2+100),y:x(height/2-100,height/2+100),color:y(t),shape:"circle",size:c<450?30:25})});case 25:return l=t.sent,d=l.sort(function(t,e){return herOrder.indexOf(t.color)>herOrder.indexOf(e.color)}),s=d3.select("#data-her svg").attr("width",c).attr("height",height),h=s.selectAll(".shape").data(d).enter().append("g").classed("her-node",!0).attr("transform",function(t){return"translate("+t.x+", "+t.y+")"}).on("mouseenter",m),h.filter(function(t){return"circle"===t.shape}).append("circle").attr("r",function(t){return t.size/2}).attr("fill",function(t){return t.color}),f=d3.layoutGrid().width(c).height(height).colWidth(50).rowHeight(50).marginTop(40).marginLeft(31.125).sectionPadding(50).data(d),t.next=33,p();case 33:return t.next=35,m(d[0]);case 35:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),c=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}("next")})}}